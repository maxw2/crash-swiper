!function(t){var i={};function e(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var a in t)e.d(s,a,function(i){return t[i]}.bind(null,a));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);var s=function(t,i){return function(t,i){let e=t,s=i;return s.ul=document.createElement("div"),s.ul.setAttribute("style","width:100%;height:100%;position:relative;overflow:hidden;"),s.lis=e.map((t,i)=>{let e=document.createElement("div");e.setAttribute("data-num",i),0===i?e.setAttribute("style","width:100%;height:100%;position:absolute;top:0px;left:0px;"):e.setAttribute("style","width:100%;height:100%;visibility:hidden;position:absolute;top:0px;left:0px;");let a=function(t){let i=t,e=document.createElement("img");return e.setAttribute("src",i.src),e.setAttribute("style","width:100%"),i.el.appendChild(e),i.child=e,i}({el:e,src:t,child:null});return s.ul.appendChild(e),a}),s.el.appendChild(s.ul),s}(t,i)};function a(t,i,e){return function(t,i,e){let s=t,a=e;return a.mask={},a.ul=document.createElement("div"),a.ul.setAttribute("style","width:100%;height:100%;position:relative;overflow:hidden;"),a.lis=s.map((t,i)=>{let e=`width:100%;\n        height:100%;\n        position:absolute;\n        top :0px;\n        left:0px;\n        display:flex;\n        flex-wrap:wrap;\n        background-image:url(${t});\n        background-size:100% 100%`,s=`visibility:hidden;\n        width:100%;\n        height:100%;\n        position:absolute;\n        top:0px;\n        left:0px;\n        display:flex;\n        flex-wrap:wrap;\n        background-image:url(${t});\n        background-size:100% 100%`,n=document.createElement("div");n.setAttribute("data-num",i),0===i?n.setAttribute("style",e):n.setAttribute("style",s);let o={el:n,src:t,child:[]};return a.ul.appendChild(n),o}),a.mask.el=document.createElement("div"),a.mask.el.setAttribute("style","width:100%;height:100%;position:absolute;top:0px;left:-100%;display:flex;flex-wrap:wrap;"),a.ul.appendChild(a.mask.el),a.mask.block=function(t,i){let e=[],s=t,a=i,n=0;for(let t=0;t<s.rows;t++)for(let i=0;i<s.cols;i++){let o=`width:${100/s.rows}%;\n            height:${100/s.cols}%;\n            background-image:'';\n            background-size:${100*s.rows}% ${100*s.cols}%;\n            background-position:${100*i/(s.rows-1)}% ${100*t/(s.cols-1)}%`,l=document.createElement("div");l.setAttribute("data-row",t),l.setAttribute("data-col",i),l.setAttribute("data-index",n),l.setAttribute("style",o),a.el.appendChild(l),e.push(l),n++}return e}(i,a.mask),a.el.appendChild(a.ul),a}(t,i,e)}function n(t,i,e){let s=i;t.block.forEach((t,i)=>{let e=t.getAttribute("data-row"),a=t.getAttribute("data-col");t.style.backgroundImage=`url(${s})`,t.style.animation=0==e&&0==a?`blockAnimation 1s ${.1*a*e}s forwards`:0==e?`blockAnimation 1s ${.1*a}s forwards`:0==a?`blockAnimation 1s ${.1*e}s forwards`:`blockAnimation 1s ${.1*a*e}s forwards`})}function o(t){let i=`@keyframes blockAnimation {\n        0% {transform:translate3d(0px,0px,0px)}\n        70% {transform:translate3d(${100*t.rows+50}%, 50% ,0px)}\n        100% {transform:translate3d(${100*t.rows}%, 0px,0px)}\n    } `;return document.styleSheets[0].insertRule(i)}var l=function(t){t.prototype.render=function(){switch(this.$op.type){case 1:this.$dom=s(this.$op.imgList,this.$dom);break;default:this.$dom=a(this.$op.imgList,this.$op.type,this.$dom)}}};function r(t){t.stopPropagation(),this.$data.active.setAttribute("style","width:100%;height:100%;position:absolute;top:0px;left:0px;"),this.$data.oldActive.setAttribute("style","width:100%;height:100%;visibility:hidden;position:absolute;top:0px;left:0px;"),this.$data.transition=!1}var d=function(t){let i=t;i.$el.addEventListener("transitionend",r.bind(i)),i.__proto__.onNext=function(){if(this.$data.transition)return;let t=this.$num;this.$data.transition=!0,this.$num<this.$dom.lis.length-1?this.$num++:this.$num=0,this.$data.active=this.$dom.lis[this.$num].el,this.$data.oldActive=this.$dom.lis[t].el,this.$data.oldActive.setAttribute("style","width:100%;height:100%;visibility:visible;position:absolute;top:0px;left:0px;"),this.$data.active.style.visibility="visible",this.$data.active.style.left="100%",this.$data.active.style.transform="translate3d(-100%,0px,0px)",this.$data.active.style.transition="transform 1s ease 0s",this.$data.oldActive.style.visibility="visible",this.$data.oldActive.style.left="0px",this.$data.oldActive.style.transform="translate3d(-100%,0px,0px)",this.$data.oldActive.style.transition="transform 1s ease 0s"},i.__proto__.onPrev=function(){if(this.$data.transition)return;let t=this.$num;this.$data.transition=!0,this.$num>0?this.$num--:this.$num=this.$dom.lis.length-1,this.$data.active=this.$dom.lis[this.$num].el,this.$data.oldActive=this.$dom.lis[t].el,this.$data.oldActive.setAttribute("style","width:100%;height:100%;visibility:visible;position:absolute;top:0px;left:0px;"),this.$data.active.style.visibility="visible",this.$data.active.style.left="-100%",this.$data.active.style.transform="translate3d(100%,0px,0px)",this.$data.active.style.transition="transform 1s ease 0s",this.$data.oldActive.style.visibility="visible",this.$data.oldActive.style.left="0px",this.$data.oldActive.style.transform="translate3d(100%,0px,0px)",this.$data.oldActive.style.transition="transform 1s ease 0s"},i.__proto__.onChange=function(t){let i=Number(t),e=!0;if(this.$data.transition)return;if(i===this.$num)return;let s=this.$num;this.$data.transition=!0,i>=0&&i<=this.$dom.lis.length&&(this.$num=i,e=this.$num>s),this.$data.active=this.$dom.lis[this.$num].el,this.$data.oldActive=this.$dom.lis[s].el,e?(this.$data.oldActive.setAttribute("style","width:100%;height:100%;visibility:visible;position:absolute;top:0px;left:0px;"),this.$data.active.style.visibility="visible",this.$data.active.style.left="100%",this.$data.active.style.transform="translate3d(-100%,0px,0px)",this.$data.active.style.transition="transform 1s ease 0s",this.$data.oldActive.style.visibility="visible",this.$data.oldActive.style.left="0px",this.$data.oldActive.style.transform="translate3d(-100%,0px,0px)",this.$data.oldActive.style.transition="transform 1s ease 0s"):(this.$data.oldActive.setAttribute("style","width:100%;height:100%;visibility:visible;position:absolute;top:0px;left:0px;"),this.$data.active.style.visibility="visible",this.$data.active.style.left="-100%",this.$data.active.style.transform="translate3d(100%,0px,0px)",this.$data.active.style.transition="transform 1s ease 0s",this.$data.oldActive.style.visibility="visible",this.$data.oldActive.style.left="0px",this.$data.oldActive.style.transform="translate3d(100%,0px,0px)",this.$data.oldActive.style.transition="transform 1s ease 0s")}};function h(t){if(t.stopPropagation(),!this.$data.transition)return;Number(t.target.getAttribute("data-index"))===this.$op.type.rows*this.$op.type.cols-1&&(this.$data.transition=!1,this.$data.oldActive.style.visibility="hidden",this.$data.active.style.visibility="",this.$dom.mask.block.forEach(t=>{t.style.backgroundImage="",t.style.animation=""}))}var u=function(t){let i=t;i.$el.addEventListener("animationend",h.bind(i)),i.__proto__.onNext=function(){if(this.$data.transition)return;this.$data.transition=!0,this.$data.cssAnimation||(this.$data.cssIndex=o(this.$op.type));let t=this.$num;this.$num<this.$dom.lis.length-1?this.$num++:this.$num=0,this.$data.active=this.$dom.lis[this.$num].el,this.$data.oldActive=this.$dom.lis[t].el,this.$data.cssIndex=n(this.$dom.mask,this.$op.imgList[this.$num],this.$op.type)},i.__proto__.onPrev=function(){if(this.$data.transition)return;this.$data.transition=!0,this.$data.cssAnimation||(this.$data.cssIndex=o(this.$op.type));let t=this.$num;this.$num>0?this.$num--:this.$num=this.$dom.lis.length-1,this.$data.active=this.$dom.lis[this.$num].el,this.$data.oldActive=this.$dom.lis[t].el,this.$data.cssIndex=n(this.$dom.mask,this.$op.imgList[this.$num],this.$op.type)},i.__proto__.onChange=function(t){if(t>=0&&t<=this.$dom.lis.length-1&&t!=this.$num){if(this.$data.transition)return;this.$data.transition=!0,this.$data.cssAnimation||(this.$data.cssIndex=o(this.$op.type));let i=this.$num;this.$num=t,this.$data.active=this.$dom.lis[this.$num].el,this.$data.oldActive=this.$dom.lis[i].el,console.log(this.$data),this.$data.cssIndex=n(this.$dom.mask,this.$op.imgList[this.$num],this.$op.type)}},i.__proto__.remove=function(){i.el.removeEventListener("animationend",h.bind(i)),document.styleSheets[0].deleteRule(i.$data.cssAnimation)}};var $=function(t){t.prototype.event=function(){switch(this.$op.type){case 1:d(this);break;default:return void u(this)}}};function c(t,i){this.$el="string"==typeof t?document.querySelector(t):t,this.$op=i,this.$dom={el:this.$el},this.$data={active:null,oldActive:null,transition:!1},this.$num=0,this.render(),this.event()}(function(t){t.prototype.initData=function(){}})(c),l(c),$(c);i.default=c}]);